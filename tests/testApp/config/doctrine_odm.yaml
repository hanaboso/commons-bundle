doctrine_mongodb:
    auto_generate_proxy_classes: true
    auto_generate_hydrator_classes: true
    auto_generate_persistent_collection_classes: 3
    proxy_namespace: OdmProxies
    proxy_dir: "%kernel.cache_dir%/doctrine/odm/mongodb/Proxies"
    hydrator_namespace: OdmHydrators
    hydrator_dir: "%kernel.cache_dir%/doctrine/odm/mongodb/Hydrators"
    connections:
        default:
            server: "%env(string:MONGODB_DSN)%"
            options:
                connectTimeoutMS: 5000
                socketTimeoutMS: 5000
        metrics:
            server: "%env(string:MONGODB_DSN)%"
            options:
                connectTimeoutMS: 5000
                socketTimeoutMS: 5000
    default_database: "%env(string:MONGODB_DB)%"
    document_managers:
        default:
            mappings:
                CommonsDocuments:
                    type: annotation
                    is_bundle: false
                    dir: "%src_dir%/src/Database/Document"
                    prefix: Hanaboso\CommonsBundle\Database\Document
                FileDocument:
                    type: annotation
                    is_bundle: false
                    dir: "%src_dir%/src/FileStorage/Document"
                    prefix: Hanaboso\CommonsBundle\FileStorage\Document
                FileMongo:
                    type: annotation
                    is_bundle: false
                    dir: "%src_dir%/src/FileStorage/Driver/Impl/Mongo"
                    prefix: Hanaboso\CommonsBundle\FileStorage\Driver\Impl\Mongo
                TestDocument:
                    type: annotation
                    dir: '%kernel.root_dir%/../tests/Integration/Database/Filters/ODM'
                    is_bundle: false
                    prefix: CommonsBundleTests\Integration\Database\Filters\ODM
            filters:
                deleted:
                    class: Hanaboso\CommonsBundle\Database\Filters\ODM\DeletedFilter
                    enabled: true
        metrics:
            connection: metrics
            database: metrics
